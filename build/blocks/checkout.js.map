{"version":3,"file":"blocks/checkout.js","mappings":"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","sources":["webpack://deliver-with-econt-woc-blocks/./src/blocks/checkout/EcontDelivery.js","webpack://deliver-with-econt-woc-blocks/external window [\"wp\",\"data\"]","webpack://deliver-with-econt-woc-blocks/external window [\"wp\",\"element\"]","webpack://deliver-with-econt-woc-blocks/external window [\"wp\",\"hooks\"]","webpack://deliver-with-econt-woc-blocks/external window [\"wp\",\"i18n\"]","webpack://deliver-with-econt-woc-blocks/external window [\"wp\",\"plugins\"]","webpack://deliver-with-econt-woc-blocks/external window \"React\"","webpack://deliver-with-econt-woc-blocks/external window \"ReactDOM\"","webpack://deliver-with-econt-woc-blocks/webpack/bootstrap","webpack://deliver-with-econt-woc-blocks/webpack/runtime/compat get default export","webpack://deliver-with-econt-woc-blocks/webpack/runtime/define property getters","webpack://deliver-with-econt-woc-blocks/webpack/runtime/hasOwnProperty shorthand","webpack://deliver-with-econt-woc-blocks/webpack/runtime/make namespace object","webpack://deliver-with-econt-woc-blocks/./src/blocks/checkout/index.js"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect, useRef } from \"@wordpress/element\"\nimport { useSelect, useDispatch } from \"@wordpress/data\"\nimport { __ } from \"@wordpress/i18n\"\nimport { applyFilters } from \"@wordpress/hooks\"\nimport { createPortal } from \"react-dom\"\n\n\n// No TypeScript declarations needed in plain JS\nconst EcontDelivery = () => {\n    // Declare jQuery and wp variables\n    const jQuery = window.jQuery\n    const wp = window.wp\n\n    // Helper function to get translation or fallback to the key\n    const getTranslation = (key) => {\n        // Check if econtTranslations is available and has the key\n        if (typeof window.econtTranslations !== 'undefined' &&\n            window.econtTranslations[key]) {\n            return window.econtTranslations[key];\n        }\n        // Fallback to the key itself if translation is not available\n        return key;\n    };\n\n    // Component state\n    const [iframeUrl, setIframeUrl] = useState(\"\")\n    const [globalShipmentPrices, setGlobalShipmentPrices] = useState({\n        cod: undefined,\n        cod_e: undefined,\n        no_cod: undefined,\n    })\n    const [isEditing, setIsEditing] = useState(true)\n    const [localShippingMethod, setLocalShippingMethod] = useState(null)\n    const [isEcontSelected, setIsEcontSelected] = useState(false)\n    const [portalContainer, setPortalContainer] = useState(null)\n    const [isOrderButtonDisabled, setIsOrderButtonDisabled] = useState(false)\n    const [isIframeLoading, setIsIframeLoading] = useState(true) // New state for iframe loading\n\n    // Refs\n    const isMountedRef = useRef(true)\n    const messageListenerRef = useRef(null)\n    const econtContainerRef = useRef(null)\n\n    // Get data from WooCommerce store\n    const { billingData, shippingData, cartData, selectedShippingMethod } = useSelect((select) => {\n        const store = select(\"wc/store/cart\")\n        if (!store) {\n            return {\n                billingData: {},\n                shippingData: {},\n                cartData: {},\n                selectedShippingMethod: null,\n            }\n        }\n\n        let billing = {},\n            shipping = {},\n            cart = {},\n            shippingMethod = null\n\n        try {\n            // Try new API first\n            billing = store.getCustomerData()?.billing || {}\n            shipping = store.getCustomerData()?.shipping || {}\n\n            const cartData = store.getCartData();\n\n            // Calculate total weight from cart items\n            const totalWeight = cartData.itemsWeight * 0.001\n\n            // console.log(\"Calculated total weight:\", totalWeight)\n\n            // Set minimum weight of 1kg if calculated weight is less\n            const finalWeight = totalWeight > 0 ? totalWeight : 1\n\n            cart = {\n                total: Number.parseFloat(cartData.totals?.total_items) / 100 || 0,\n                currency: store.getCartTotals()?.currency_code || \"BGN\",\n                weight : finalWeight,\n            }\n            const shippingRates = store.getShippingRates()\n            shippingMethod = shippingRates?.[0]?.shipping_rates?.find((rate) => rate.selected)?.method_id\n        } catch (e) {\n            try {\n                // Fallback to older API\n                billing = store.getBillingData() || {}\n                shipping = store.getShippingData() || {}\n            } catch (e2) {\n                // Silently fail\n            }\n        }\n\n        return {\n            billingData: billing,\n            shippingData: shipping,\n            cartData: cart,\n            selectedShippingMethod: shippingMethod,\n        }\n    }, [])\n\n    const { setBillingAddress, setShippingAddress } = useDispatch(\"wc/store/cart\")\n\n    // Function to check if Econt shipping is selected\n    const isEcontShippingSelected = () => {\n        // First check the local state\n        if (localShippingMethod && localShippingMethod.includes(\"econt\")) {\n            return true\n        }\n\n        // Then check the store state\n        if (\n            selectedShippingMethod &&\n            (selectedShippingMethod === \"delivery_with_econt\" || selectedShippingMethod.includes(\"econt\"))\n        ) {\n            return true\n        }\n\n        // Check the DOM directly\n        const econtRadio = document.querySelector('input[name^=\"shipping_method\"][value*=\"econt\"]:checked')\n        if (econtRadio) {\n            return true\n        }\n\n        // Check if we have an iframe URL\n        if (iframeUrl && iframeUrl.length > 0) {\n            return true\n        }\n\n        return false\n    }\n\n    // Function to find the shipping option container\n    const findShippingOptionContainer = () => {\n        const selectors = [\n            \"#shipping-option\",\n            \".wc-block-components-shipping-rates-control\",\n            \".shipping_method\",\n            \".woocommerce-shipping-methods\",\n            \"#shipping_method\",\n        ]\n\n        for (const selector of selectors) {\n            const element = document.querySelector(selector)\n            if (element) {\n                return element\n            }\n        }\n\n        return null\n    }\n\n    // Function to create a portal container after shipping options\n    const createPortalContainerAfterShippingOption = () => {\n        if (!isMountedRef.current) return null\n\n        // Find the shipping option element\n        const targetElement = findShippingOptionContainer()\n        if (!targetElement) return null\n\n        // Check if we already have a portal container\n        let container = document.getElementById(\"econt-portal-container\")\n\n        // If no container exists, create one\n        if (!container) {\n            container = document.createElement(\"div\")\n            container.id = \"econt-portal-container\"\n\n            // Insert after the shipping option\n            if (targetElement.nextSibling) {\n                targetElement.parentNode.insertBefore(container, targetElement.nextSibling)\n            } else {\n                targetElement.parentNode.appendChild(container)\n            }\n        }\n\n        return container\n    }\n\n    // Function to disable/enable the place order button\n    const togglePlaceOrderButton = (disable) => {\n        const placeOrderButton = document.querySelector(\".wc-block-components-checkout-place-order-button\")\n        if (placeOrderButton) {\n            placeOrderButton.disabled = disable\n\n            // Add visual indication that the button is disabled\n            if (disable) {\n                placeOrderButton.style.opacity = \"0.5\"\n                placeOrderButton.style.cursor = \"not-allowed\"\n\n                // Add a tooltip to explain why it's disabled\n                placeOrderButton.title = getTranslation('Please complete Econt delivery details first')\n            } else {\n                placeOrderButton.style.opacity = \"\"\n                placeOrderButton.style.cursor = \"\"\n                placeOrderButton.title = \"\"\n            }\n\n            // Always update the state to match the button's disabled status\n            setIsOrderButtonDisabled(disable)\n        }\n    }\n\n    // Function to get data from form and make AJAX request\n    const getDataFromForm = async () => {\n        if (!isMountedRef.current || !isEcontShippingSelected()) return\n\n        // // Disable the place order button while getting Econt data\n        // togglePlaceOrderButton(true)\n\n        // Wait a moment for fields to be available\n        await new Promise((resolve) => setTimeout(resolve, 100))\n\n        // Get customer data from form\n        const customerData = {\n            first_name:\n                document.querySelector(\"#shipping-first_name\")?.value ||\n                document.querySelector(\"#billing-first_name\")?.value ||\n                \"\",\n            last_name:\n                document.querySelector(\"#shipping-last_name\")?.value ||\n                document.querySelector(\"#billing-last_name\")?.value ||\n                \"\",\n            company:\n                document.querySelector(\"#shipping-company\")?.value || document.querySelector(\"#billing-company\")?.value || \"\",\n            address_1:\n                document.querySelector(\"#shipping-address_1\")?.value ||\n                document.querySelector(\"#billing-address_1\")?.value ||\n                \"\",\n            city: document.querySelector(\"#shipping-city\")?.value || document.querySelector(\"#billing-city\")?.value || \"\",\n            postcode:\n                document.querySelector(\"#shipping-postcode\")?.value || document.querySelector(\"#billing-postcode\")?.value || \"\",\n            phone: document.querySelector(\"#shipping-phone\")?.value || document.querySelector(\"#billing-phone\")?.value || \"\",\n            email:\n                document.querySelector(\"#email\")?.value ||\n                document.querySelector(\"#shipping-email\")?.value ||\n                document.querySelector(\"#billing-email\")?.value ||\n                \"\",\n        }\n\n        // Check if we have enough data\n        if (!customerData.first_name || !customerData.city) {\n            if (isMountedRef.current) {\n                setTimeout(getDataFromForm, 1000)\n            }\n            return\n        }\n\n        // Process address information\n        let isOfficeDelivery = false\n        let officeName = \"\"\n        let streetAddress = \"\"\n\n        if (customerData.address_1) {\n            if (customerData.address_1.includes(\"Delivery to office:\")) {\n                isOfficeDelivery = true\n                officeName = customerData.address_1.replace(\"Delivery to office:\", \"\").trim()\n            } else if (customerData.address_1.includes(\"Delivery to address:\")) {\n                streetAddress = customerData.address_1.replace(\"Delivery to address:\", \"\").trim()\n            } else {\n                streetAddress = customerData.address_1\n            }\n        }\n\n        // Prepare request params\n        const params = {\n            customer_name: `${customerData.first_name} ${customerData.last_name}`.trim(),\n            customer_company: customerData.company,\n            customer_address: streetAddress,\n            customer_city_name: customerData.city,\n            customer_post_code: customerData.postcode,\n            customer_phone: customerData.phone,\n            customer_email: customerData.email,\n            office_name: isOfficeDelivery ? officeName : \"\",\n        }\n\n        // Remove empty values\n        Object.keys(params).forEach((key) => {\n            if (!params[key]) delete params[key]\n        })\n\n        try {\n            // Add cart data\n            const cartParams = {\n                ...params,\n                order_total: cartData.total || 0,\n                order_currency: cartData.currency || \"BGN\",\n                pack_count: 1,\n                order_weight: cartData.weight,\n            }\n\n            // Make AJAX request\n            if (typeof jQuery !== \"undefined\") {\n                // Set loading state when making the request\n                setIsIframeLoading(true)\n\n                const response = await jQuery.ajax({\n                    type: \"POST\",\n                    url: window.econtData.ajaxUrl,\n                    dataType: \"json\",\n                    data: {\n                        action: \"woocommerce_delivery_with_econt_get_orderinfo\",\n                        security: window.econtData.nonce,\n                        params: cartParams,\n                    },\n                })\n\n                if (!response) {\n                    // If no response, keep the button disabled\n                    return\n                }\n\n                // Process URL\n                let url\n                if (typeof response === \"string\") {\n                    url = response.split('\"').join(\"\").replace(/\\\\\\//g, \"/\")\n                } else if (typeof response === \"object\") {\n                    url = response.toString()\n                } else {\n                    // If invalid response, keep the button disabled\n                    return\n                }\n\n                // Set locale and build full URL\n                const locale = document.documentElement.lang.split(\"-\")[0] || \"en\"\n                const validLocales = [\"bg\", \"en\", \"gr\", \"ro\"]\n                const fullUrl = `${url}&module=onecheckout&lang=${validLocales.includes(locale) ? locale : \"bg\"}`\n\n                // Update iframe with URL\n                updateIframeWithUrl(fullUrl, true)\n            }\n        } catch (error) {\n            // Set loading to false if there's an error\n            setIsIframeLoading(false)\n            // Silently fail, but keep the button disabled\n        }\n    }\n\n    // Function to update iframe URL and visibility\n    const updateIframeWithUrl = (url, isVisible = true) => {\n        if (!isMountedRef.current) return\n\n        // Update state\n        setIframeUrl(url)\n        setIsIframeLoading(true) // Set loading to true when updating iframe URL\n\n        // Apply URL to iframe element\n        setTimeout(() => {\n            if (!isMountedRef.current) return\n\n            const iframe = document.querySelector(\"#delivery_with_econt_iframe\")\n            if (iframe) {\n                iframe.src = url\n\n                if (isVisible) {\n                    iframe.style.display = \"block\"\n                    iframe.style.visibility = \"visible\"\n                    iframe.style.height = \"500px\"\n                }\n\n                // Add load event listener\n                iframe.onload = () => {\n                    try {\n                        // This will throw an error if cross-origin\n                        const iframeDocument = iframe.contentDocument || iframe.contentWindow?.document\n\n                        // Set loading to false when iframe is loaded\n                        if (isMountedRef.current) {\n                            setIsIframeLoading(false)\n                        }\n                    } catch (error) {\n                        // For cross-origin iframes, we can't access the document\n                        // but we can still know it loaded\n                        if (isMountedRef.current) {\n                            setIsIframeLoading(false)\n                        }\n                    }\n                }\n\n                // Add error event listener\n                iframe.onerror = () => {\n                    if (isMountedRef.current) {\n                        setIsIframeLoading(false) // Set loading to false on error\n                        setTimeout(() => {\n                            if (isMountedRef.current && iframe) {\n                                iframe.src = url\n                                setIsIframeLoading(true) // Set loading back to true when retrying\n                            }\n                        }, 1000)\n                    }\n                }\n            } else if (isMountedRef.current) {\n                // Try to update portal container and retry\n                const container = createPortalContainerAfterShippingOption()\n                if (container) {\n                    setPortalContainer(container)\n                }\n\n                setTimeout(() => {\n                    if (isMountedRef.current) {\n                        updateIframeWithUrl(url, isVisible)\n                    }\n                }, 500)\n            }\n        }, 100)\n    }\n\n    // Handle postMessage events from iframe\n    const handleIframeMessage = async (event) => {\n        const data = event.data\n\n        // Skip if not a submission event\n        if (data.shipment_error || data.shipping_price == null || isNaN(Number(data.shipping_price)) || !data.name) {\n            return;\n        }\n\n        try {\n            // Set cookie for shipping price\n            document.cookie = `econt_shippment_price=${data.shipping_price}; path=/`\n\n            // Update shipping rate via AJAX\n            if (typeof jQuery !== \"undefined\") {\n                const response = await jQuery.ajax({\n                    type: \"POST\",\n                    url: window.econtData.ajaxUrl,\n                    dataType: \"json\",\n                    data: {\n                        action: \"woocommerce_delivery_with_econt_update_shipping\",\n                        security: window.econtData.nonce,\n                        shipping_data: {\n                            price: data.shipping_price,\n                            price_cod: data.shipping_price_cod,\n                            price_cod_e: data.shipping_price_cod_e,\n                            currency: data.shipping_price_currency_sign,\n                        },\n                    },\n                })\n\n                if (!response.success) {\n                    throw new Error(response.message || \"Failed to update shipping rate\")\n                }\n\n                // Store shipment prices\n                setGlobalShipmentPrices({\n                    cod: data.shipping_price_cod,\n                    cod_e: data.shipping_price_cod_e,\n                    no_cod: data.shipping_price,\n                })\n\n                // Trigger checkout update and close iframe\n                wp.data.dispatch(\"wc/store/cart\").invalidateResolutionForStoreSelector(\"getCartData\")\n                setIsEditing(false)\n\n                // Enable the place order button now that we have shipping data\n                togglePlaceOrderButton(false)  // Use the function to ensure state is updated too\n\n\n                // Wait for checkout to update\n                await new Promise((resolve) => setTimeout(resolve, 1000))\n\n                // Prepare address data\n                const addressData = {\n                    first_name: data.face ? data.face.split(\" \")[0] : data.name.split(\" \")[0],\n                    last_name: data.face ? data.face.split(\" \")[1] : data.name.split(\" \")[1],\n                    company: data.face ? data.name : \"\",\n                    address_1: data.address\n                        ? `${getTranslation('Delivery to address:')} ${data.address}`\n                        : `${getTranslation('Delivery to office:')} ${data.office_name_only}`,\n                    city: data.city_name,\n                    postcode: data.post_code,\n                    phone: data.phone,\n                    email: data.email,\n                }\n\n                // Update addresses using WooCommerce's store API or direct field updates\n                try {\n                    const store = wp.data.select(\"wc/store/cart\")\n                    const dispatch = wp.data.dispatch(\"wc/store/cart\")\n\n                    if (store && dispatch) {\n                        await dispatch.setBillingAddress(addressData)\n                        await dispatch.setShippingAddress(addressData)\n                    } else {\n                        // Direct field updates\n                        updateFormFields(addressData)\n                    }\n                } catch (error) {\n                    // Fallback to direct field updates\n                    updateFormFields(addressData)\n                }\n\n                // Trigger checkout update and close iframe\n                wp.data.dispatch(\"wc/store/cart\").invalidateResolutionForStoreSelector(\"getCartData\")\n                setIsEditing(false)\n                setIsIframeLoading(false) // Ensure loading is false when editing is done\n\n                // Enable the place order button now that we have shipping dat\n                togglePlaceOrderButton(false)\n            }\n        } catch (error) {\n            // Close iframe even if there's an error\n            setIsEditing(false)\n            setIsIframeLoading(false) // Ensure loading is false on error\n\n            // Keep the button disabled if there was an error\n            togglePlaceOrderButton(true)  // Use the function to ensure state is updated too\n        }\n    }\n\n    // Helper function to update form fields directly\n    const updateFormFields = (addressData) => {\n        const fields = [\"first_name\", \"last_name\", \"company\", \"address_1\", \"city\", \"postcode\", \"phone\", \"email\"]\n\n        fields.forEach((field) => {\n            if (typeof jQuery !== \"undefined\") {\n                jQuery(`#shipping-${field}`).val(addressData[field])\n                jQuery(`#billing-${field}`).val(addressData[field])\n            }\n        })\n    }\n\n    // Effect to check shipping method changes and update component state\n    useEffect(() => {\n        // Check if shipping method has changed\n        const checkShippingMethod = () => {\n            const isEcont = isEcontShippingSelected()\n            setIsEcontSelected(isEcont)\n\n            // Update local shipping method if store method changes\n            if (selectedShippingMethod && selectedShippingMethod !== localShippingMethod) {\n                setLocalShippingMethod(selectedShippingMethod)\n            }\n\n            if (isEcont) {\n\n                // Create portal container if needed\n                const container = createPortalContainerAfterShippingOption()\n                if (container) {\n                    setPortalContainer(container)\n                }\n\n                // Set editing mode if needed\n                if (!iframeUrl) {\n                    setIsEditing(true)\n                    // Disable place order button until shipping data is received\n                    togglePlaceOrderButton(true)\n                }\n                // Disable the place order button while getting Econt data\n                // togglePlaceOrderButton(true)\n                getDataFromForm()\n            } else {\n                // If Econt is not selected, make sure the button is enabled\n                togglePlaceOrderButton(false)\n                setIsIframeLoading(false) // Reset loading state when Econt is not selected\n            }\n        }\n\n        // Initial check\n        checkShippingMethod()\n\n        // Set up event listener for shipping method changes\n        const handleShippingMethodChange = () => {\n            checkShippingMethod()\n        }\n\n        // Add event listeners for shipping method changes\n        if (typeof jQuery !== \"undefined\") {\n            jQuery(document.body).on(\"updated_checkout\", handleShippingMethodChange)\n            jQuery('input[name^=\"shipping_method\"]').on(\"change\", handleShippingMethodChange)\n        }\n\n        // Clean up event listeners\n        return () => {\n            if (typeof jQuery !== \"undefined\") {\n                jQuery(document.body).off(\"updated_checkout\", handleShippingMethodChange)\n                jQuery('input[name^=\"shipping_method\"]').off(\"change\", handleShippingMethodChange)\n            }\n        }\n    }, [selectedShippingMethod, localShippingMethod, billingData, shippingData, cartData, iframeUrl])\n\n    // Effect to update portal container when shipping method changes\n    useEffect(() => {\n        if (isEcontSelected) {\n            const container = createPortalContainerAfterShippingOption()\n            if (container) {\n                setPortalContainer(container)\n            }\n\n            // If Econt is selected but we don't have shipping data yet, disable the button\n            if (isEditing && !globalShipmentPrices.no_cod) {\n                togglePlaceOrderButton(true)\n            }\n        } else {\n            // If Econt is not selected, make sure the button is enabled\n            togglePlaceOrderButton(false)\n        }\n    }, [isEcontSelected, isEditing, globalShipmentPrices])\n\n    // Effect to set up message event listener\n    useEffect(() => {\n        messageListenerRef.current = handleIframeMessage\n        window.addEventListener(\"message\", handleIframeMessage)\n\n        return () => {\n            window.removeEventListener(\"message\", handleIframeMessage)\n            messageListenerRef.current = null\n        }\n    }, [])\n\n    // Effect to clean up on unmount\n    useEffect(() => {\n        return () => {\n            isMountedRef.current = false\n\n            // Clean up any event listeners\n            if (typeof jQuery !== \"undefined\") {\n                jQuery(document.body).off(\"updated_checkout\")\n                jQuery('input[name^=\"shipping_method\"]').off(\"change\")\n            }\n\n            // Remove message event listener\n            if (messageListenerRef.current) {\n                window.removeEventListener(\"message\", messageListenerRef.current)\n                messageListenerRef.current = null\n            }\n\n            // Remove portal container\n            const container = document.getElementById(\"econt-portal-container\")\n            if (container) {\n                container.remove()\n            }\n\n            // Make sure the place order button is enabled when component unmounts\n            togglePlaceOrderButton(false)\n        }\n    }, [])\n\n    // Effect to handle checkout updates and ensure button state is correct\n    useEffect(() => {\n        const handleCheckoutUpdate = () => {\n            // If Econt is selected and we're still editing (no shipping data yet), disable the button\n            if (isEcontSelected && isEditing && !globalShipmentPrices.no_cod) {\n                togglePlaceOrderButton(true)\n            } else if (!isEcontSelected) {\n                // If Econt is not selected, make sure the button is enabled\n                togglePlaceOrderButton(false)\n            }\n        }\n\n        if (typeof jQuery !== \"undefined\") {\n            jQuery(document.body).on(\"updated_checkout\", handleCheckoutUpdate)\n        }\n\n        return () => {\n            if (typeof jQuery !== \"undefined\") {\n                jQuery(document.body).off(\"updated_checkout\", handleCheckoutUpdate)\n            }\n        }\n    }, [isEcontSelected, isEditing, globalShipmentPrices])\n\n    // Prepare section title and button text\n    const defaultSectionTitleText = getTranslation('Econt Delivery Details')\n    const defaultEditButtonText = getTranslation('Edit delivery details')\n    const sectionTitleText = applyFilters(\"econtDelivery.editButtonText\", defaultSectionTitleText)\n    const editButtonText = applyFilters(\"econtDelivery.checkoutButtonText\", defaultEditButtonText)\n\n    // Render component content\n    const renderContent = () => {\n        return (\n            <div\n                className=\"econt-content-wrapper\"\n                style={{\n                    display: isEcontSelected ? \"block\" : \"none\",\n                    visibility: isEcontSelected ? \"visible\" : \"hidden\",\n                }}\n            >\n                <h3>{sectionTitleText}</h3>\n\n                {/* Iframe container */}\n                <div\n                    className=\"econt-iframe-container\"\n                    style={{\n                        display: isEcontSelected && isEditing ? \"block\" : \"none\",\n                        visibility: isEcontSelected && isEditing ? \"visible\" : \"hidden\",\n                    }}\n                >\n                    {/* Loading message with spinner - always visible when loading */}\n                    {isEcontSelected && isEditing && isIframeLoading && (\n                        <div\n                            className=\"econt-loading\"\n                            style={{\n                                padding: \"20px\",\n                                marginBottom: \"20px\",\n                                backgroundColor: \"#f8f9fa\",\n                                border: \"1px solid #ddd\",\n                                borderRadius: \"4px\",\n                                textAlign: \"center\",\n                            }}\n                        >\n                            <div style={{ display: \"flex\", justifyContent: \"center\", alignItems: \"center\", marginBottom: \"10px\" }}>\n                                <div\n                                    className=\"econt-spinner\"\n                                    style={{\n                                        width: \"30px\",\n                                        height: \"30px\",\n                                        border: \"4px solid rgba(0, 0, 0, 0.1)\",\n                                        borderRadius: \"50%\",\n                                        borderTop: \"4px solid #3498db\",\n                                        animation: \"econt-spin 1s linear infinite\",\n                                    }}\n                                ></div>\n                            </div>\n                            <div>{getTranslation('Loading Econt delivery options...')}</div>\n\n                            {/* Add CSS animation for the spinner */}\n                            <style>\n                                {`\n                                @keyframes econt-spin {\n                                    0% { transform: rotate(0deg); }\n                                    100% { transform: rotate(360deg); }\n                                }\n                                `}\n                            </style>\n                        </div>\n                    )}\n\n                    {/* Iframe - hidden initially and while loading */}\n                    <iframe\n                        src={iframeUrl || \"about:blank\"}\n                        id=\"delivery_with_econt_iframe\"\n                        style={{\n                            marginTop: \"2rem\",\n                            width: \"100%\",\n                            minHeight: \"600px\",\n                            border: \"none\",\n                            display: isEcontSelected && isEditing && iframeUrl && !isIframeLoading ? \"block\" : \"none\",\n                            visibility: isEcontSelected && isEditing && iframeUrl && !isIframeLoading ? \"visible\" : \"hidden\",\n                        }}\n                        onLoad={() => {\n                            if (!iframeUrl) return\n\n                            const iframe = document.getElementById(\"delivery_with_econt_iframe\")\n                            if (iframe && isEcontSelected && isEditing) {\n                                // Set loading to false when iframe is loaded\n                                setIsIframeLoading(false)\n\n                                iframe.style.display = \"block\"\n                                iframe.style.visibility = \"visible\"\n                            }\n                        }}\n                    />\n                </div>\n\n                {/* Edit button */}\n                {isEcontSelected && !isEditing && (\n                    <button\n                        type=\"button\"\n                        className=\"econt-button econt-button-details\"\n                        style={{\n                            display: \"block\",\n                            visibility: \"visible\",\n                            marginBottom: \"40px\",\n                        }}\n                        onClick={() => {\n                            setIsEditing(true)\n                            setIsIframeLoading(true) // Set loading when edit button is clicked\n\n                            // Disable place order button when editing\n                            togglePlaceOrderButton(true)\n\n                            if (isEcontSelected && !iframeUrl) {\n                                getDataFromForm()\n                            }\n                        }}\n                    >\n                        {editButtonText}\n                    </button>\n                )}\n\n                {/* Message about disabled place order button */}\n                {isEcontSelected && isOrderButtonDisabled && (\n                    <div\n                        className=\"econt-button-message\"\n                        style={{\n                            marginTop: \"10px\",\n                            padding: \"10px\",\n                            backgroundColor: \"#fff9c4\",\n                            border: \"1px solid #ffd600\",\n                            borderRadius: \"4px\",\n                            fontSize: \"14px\",\n                            textAlign: \"center\",\n                        }}\n                    >\n                        {getTranslation('Please complete Econt delivery details before placing your order')}\n                    </div>\n                )}\n            </div>\n        )\n    }\n\n    // If we have a portal container and Econt is selected, render through portal\n    if (portalContainer && isEcontSelected) {\n        return createPortal(\n            <div\n                ref={econtContainerRef}\n                className=\"wp-block-econt-delivery\"\n                style={{\n                    position: \"relative\",\n                    zIndex: \"10\",\n                    display: \"block\",\n                    visibility: \"visible\",\n                    opacity: \"1\",\n                    marginTop: \"20px\",\n                    marginBottom: \"32px\",\n                }}\n                data-econt-component=\"true\"\n                data-econt-shipping-selected=\"true\"\n                data-econt-iframe-url={iframeUrl ? \"loaded\" : \"not-loaded\"}\n                data-econt-iframe-loading={isIframeLoading ? \"true\" : \"false\"}\n            >\n                {renderContent()}\n            </div>,\n            portalContainer,\n        )\n    }\n\n    // Fallback render method if portal is not available\n    return (\n        <div\n            ref={econtContainerRef}\n            className=\"wp-block-econt-delivery\"\n            style={{\n                position: \"relative\",\n                zIndex: isEcontSelected ? \"10\" : \"-1\",\n                display: isEcontSelected ? \"block\" : \"none\",\n                visibility: isEcontSelected ? \"visible\" : \"hidden\",\n                opacity: isEcontSelected ? \"1\" : \"0\",\n            }}\n            data-econt-component=\"true\"\n            data-econt-shipping-selected={isEcontSelected ? \"true\" : \"false\"}\n            data-econt-iframe-url={iframeUrl ? \"loaded\" : \"not-loaded\"}\n            data-econt-iframe-loading={isIframeLoading ? \"true\" : \"false\"}\n        >\n            {renderContent()}\n        </div>\n    )\n}\n\nexport default EcontDelivery","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"hooks\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"plugins\"];","module.exports = window[\"React\"];","module.exports = window[\"ReactDOM\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { __ } from '@wordpress/i18n';\nimport { registerPlugin } from '@wordpress/plugins';\nimport { useSelect } from '@wordpress/data';\nimport EcontDelivery from './EcontDelivery';\n\nconst EcontShippingContent = () => {\n    const { isEcontShippingSelected } = useSelect((select) => {\n        const store = select('wc/store/cart');\n        if (!store) {\n            return { isEcontShippingSelected: false };\n        }\n\n        // Get shipping rates\n        const shippingRates = store.getShippingRates();\n\n        // Find selected shipping rate\n        const selectedRate = shippingRates?.[0]?.shipping_rates?.find(rate => rate.selected);\n\n        return {\n            isEcontShippingSelected: selectedRate?.method_id === 'delivery_with_econt'\n        };\n    }, []);\n\n    if (!isEcontShippingSelected) {\n        return null;\n    }\n\n    return <EcontDelivery />;\n};\n\nconsole.log('Registering Econt delivery block plugin');\n\nregisterPlugin('econt-delivery-block', {\n    render: EcontShippingContent,\n    scope: 'woocommerce-checkout'\n});"],"names":["createElement","useState","useEffect","useRef","useSelect","useDispatch","__","applyFilters","createPortal","EcontDelivery","jQuery","window","wp","getTranslation","key","econtTranslations","iframeUrl","setIframeUrl","globalShipmentPrices","setGlobalShipmentPrices","cod","undefined","cod_e","no_cod","isEditing","setIsEditing","localShippingMethod","setLocalShippingMethod","isEcontSelected","setIsEcontSelected","portalContainer","setPortalContainer","isOrderButtonDisabled","setIsOrderButtonDisabled","isIframeLoading","setIsIframeLoading","isMountedRef","messageListenerRef","econtContainerRef","billingData","shippingData","cartData","selectedShippingMethod","select","store","billing","shipping","cart","shippingMethod","getCustomerData","getCartData","totalWeight","itemsWeight","finalWeight","total","Number","parseFloat","totals","total_items","currency","getCartTotals","currency_code","weight","shippingRates","getShippingRates","shipping_rates","find","rate","selected","method_id","e","getBillingData","getShippingData","e2","setBillingAddress","setShippingAddress","isEcontShippingSelected","includes","econtRadio","document","querySelector","length","findShippingOptionContainer","selectors","selector","element","createPortalContainerAfterShippingOption","current","targetElement","container","getElementById","id","nextSibling","parentNode","insertBefore","appendChild","togglePlaceOrderButton","disable","placeOrderButton","disabled","style","opacity","cursor","title","getDataFromForm","Promise","resolve","setTimeout","customerData","first_name","value","last_name","company","address_1","city","postcode","phone","email","isOfficeDelivery","officeName","streetAddress","replace","trim","params","customer_name","customer_company","customer_address","customer_city_name","customer_post_code","customer_phone","customer_email","office_name","Object","keys","forEach","cartParams","order_total","order_currency","pack_count","order_weight","response","ajax","type","url","econtData","ajaxUrl","dataType","data","action","security","nonce","split","join","toString","locale","documentElement","lang","validLocales","fullUrl","updateIframeWithUrl","error","isVisible","iframe","src","display","visibility","height","onload","iframeDocument","contentDocument","contentWindow","onerror","handleIframeMessage","event","shipment_error","shipping_price","isNaN","name","cookie","shipping_data","price","price_cod","shipping_price_cod","price_cod_e","shipping_price_cod_e","shipping_price_currency_sign","success","Error","message","dispatch","invalidateResolutionForStoreSelector","addressData","face","address","office_name_only","city_name","post_code","updateFormFields","fields","field","val","checkShippingMethod","isEcont","handleShippingMethodChange","body","on","off","addEventListener","removeEventListener","remove","handleCheckoutUpdate","defaultSectionTitleText","defaultEditButtonText","sectionTitleText","editButtonText","renderContent","className","padding","marginBottom","backgroundColor","border","borderRadius","textAlign","justifyContent","alignItems","width","borderTop","animation","marginTop","minHeight","onLoad","onClick","fontSize","ref","position","zIndex","registerPlugin","EcontShippingContent","selectedRate","console","log","render","scope"],"sourceRoot":""}